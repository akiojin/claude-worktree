---
description: "機能実装のためのタスクリストテンプレート"
---

# タスク: [機能名]

**入力**: `/specs/[SPEC-xxxxxxxx]/` からの設計ドキュメント
**前提条件**: plan.md（必須）、spec.md（ユーザーストーリー用に必須）、research.md、data-model.md、contracts/

**テスト**: 以下の例にはテストタスクが含まれています。テストは**オプション**です - 機能仕様で明示的に要求された場合にのみ含めてください。

**構成**: タスクはユーザーストーリーごとにグループ化され、各ストーリーの独立した実装とテストを可能にします。

## フォーマット: `[ID] [P?] [ストーリー] 説明`

- **[P]**: 並列実行可能（異なるファイル、依存関係なし）
- **[ストーリー]**: このタスクが属するユーザーストーリー（例: US1、US2、US3）
- 説明に正確なファイルパスを含める

## Commitlintルール

- コミットメッセージは件名のみを使用し、空にしてはいけません（`commitlint.config.cjs`の`subject-empty`ルール）。
- 件名は100文字以内に収めてください（`subject-max-length`ルール）。
- タスク生成時は、これらのルールを満たすコミットメッセージが書けるよう変更内容を整理してください。

## Lint最小要件

- `.github/workflows/lint.yml` に対応するため、以下のチェックがローカルで成功することをタスク完了条件に含めてください。
  - `bun run format:check`
  - `bunx --bun markdownlint-cli "**/*.md" --config .markdownlint.json --ignore-path .markdownlintignore`
  - `bun run lint`

> ⚠️ Markdown整形ヒント  
> - ネストした箇条書きは 2 スペースでインデントしてください。  
> - 外部リンクは `[タイトル](https://example.com)` 形式で記載し、裸URLを避けてください。

## パス規約

- **単一プロジェクト**: リポジトリルートに `src/`、`tests/`
- **Webアプリ**: `backend/src/`、`frontend/src/`
- **モバイル**: `api/src/`、`ios/src/` または `android/src/`
- 以下に示すパスは単一プロジェクトを想定 - plan.md の構造に基づいて調整

<!--
  ============================================================================
  重要: 以下のタスクは説明目的のサンプルタスクです。

  /speckit.tasks コマンドは、以下に基づいて実際のタスクでこれらを置き換える必要があります:
  - spec.md のユーザーストーリー（優先度 P1、P2、P3...）
  - plan.md の機能要件
  - data-model.md のエンティティ
  - contracts/ のエンドポイント

  タスクは各ストーリーが以下を可能にするようにユーザーストーリーごとに整理する必要があります:
  - 独立した実装
  - 独立したテスト
  - MVPインクリメントとしてのデリバリー

  生成された tasks.md ファイルにこれらのサンプルタスクを残さないでください。
  ============================================================================
-->

## フェーズ1: セットアップ（共有インフラストラクチャ）

**目的**: プロジェクトの初期化と基本構造

### セットアップタスク

- [ ] **T001** [P] [共通] `src/config.py` に設定管理を作成
- [ ] **T002** [P] [共通] `src/utils/logger.py` にロギングユーティリティを実装
- [ ] **T003** [共通] `tests/` にテストフレームワークをセットアップ
- [ ] **T004** [P] [共通] `docs/setup.md` に開発環境セットアップを文書化

## フェーズ2: ユーザーストーリー1 - [ストーリー1のタイトル] (優先度: P1)

**ストーリー**: [spec.md からのストーリー説明]

**価値**: [このストーリーが提供する独立した価値]

### データ層

- [ ] **T101** [US1] `src/models/entity.py` にエンティティモデルを作成
- [ ] **T102** [US1] T101の後に `src/repositories/entity_repo.py` にリポジトリパターンを実装

### ビジネスロジック

- [ ] **T103** [P] [US1] `src/services/entity_service.py` にサービス層を実装
- [ ] **T104** [US1] T103の後に `src/services/entity_service.py` にビジネスルールを追加

### API/インターフェース

- [ ] **T105** [US1] T103の後に `src/api/endpoints/entity.py` にAPIエンドポイントを作成
- [ ] **T106** [US1] T105の後に `src/api/endpoints/entity.py` に検証を追加

### テスト（オプション - 仕様で要求された場合）

- [ ] **T107** [P] [US1] `tests/unit/test_entity_model.py` にユニットテストを作成
- [ ] **T108** [P] [US1] `tests/integration/test_entity_api.py` に統合テストを作成

**✅ MVP1チェックポイント**: US1完了後、この機能は独立した価値を提供可能

## フェーズ3: ユーザーストーリー2 - [ストーリー2のタイトル] (優先度: P2)

**ストーリー**: [spec.md からのストーリー説明]

**価値**: [このストーリーがMVP1に追加する価値]

### 機能拡張

- [ ] **T201** [US2] `src/models/related_entity.py` に関連エンティティを追加
- [ ] **T202** [US2] T201の後に `src/services/entity_service.py` に関連ロジックを統合

### UI/UX（該当する場合）

- [ ] **T203** [P] [US2] `src/ui/components/entity_view.py` にUIコンポーネントを作成
- [ ] **T204** [US2] T203の後に `src/ui/components/entity_view.py` にインタラクションハンドラを追加

### テスト（オプション）

- [ ] **T205** [P] [US2] `tests/unit/test_related_entity.py` にユニットテストを作成
- [ ] **T206** [P] [US2] `tests/e2e/test_user_flow.py` にエンドツーエンドテストを作成

**✅ MVP2チェックポイント**: US2完了後、機能は拡張された価値を提供

## フェーズ4: ユーザーストーリー3 - [ストーリー3のタイトル] (優先度: P3)

**ストーリー**: [spec.md からのストーリー説明]

**価値**: [このストーリーが完全な機能に追加する価値]

### 補完機能

- [ ] **T301** [US3] `src/features/advanced.py` に高度な機能を実装
- [ ] **T302** [US3] T301の後に `src/integrations/external.py` に外部統合を追加

### 最適化

- [ ] **T303** [P] [US3] `src/cache/manager.py` にキャッシュ層を追加
- [ ] **T304** [P] [US3] `src/monitoring/metrics.py` にパフォーマンス監視を実装

### テスト（オプション）

- [ ] **T305** [P] [US3] `tests/performance/test_load.py` にパフォーマンステストを作成

**✅ 完全な機能**: US3完了後、すべての要件が満たされます

## フェーズ5: 統合とポリッシュ

**目的**: すべてのストーリーを統合し、プロダクション準備を整える

### 統合

- [ ] **T401** [統合] エンドツーエンドの統合テストを実行
- [ ] **T402** [統合] エッジケースと境界条件を処理
- [ ] **T403** [統合] `.github/workflows/test.yml` に合わせて `bun run type-check` / `bun run lint` / `bun run test` / `bun run test:coverage` / `bun run build` をローカルで完走させ、失敗時は修正
- [ ] **T404** [統合] `.github/workflows/lint.yml` に合わせて `bun run format:check` と `bunx --bun markdownlint-cli "**/*.md" --config .markdownlint.json --ignore-path .markdownlintignore` をローカルで完走させ、失敗時は修正

### ドキュメント

- [ ] **T405** [P] [ドキュメント] `docs/api.md` にAPIドキュメントを更新
- [ ] **T406** [P] [ドキュメント] `README.md` にユーザーガイドを更新

### デプロイメント準備

- [ ] **T407** [デプロイ] デプロイメント設定を検証
- [ ] **T408** [デプロイ] プロダクション環境でテスト

## タスク凡例

**優先度**:
- **P1**: 最も重要 - MVP1に必要
- **P2**: 重要 - MVP2に必要
- **P3**: 補完的 - 完全な機能に必要

**依存関係**:
- **[P]**: 並列実行可能
- **[依存なし]**: 他のタスクの後に実行

**ストーリータグ**:
- **[US1]**: ユーザーストーリー1
- **[US2]**: ユーザーストーリー2
- **[US3]**: ユーザーストーリー3
- **[共通]**: すべてのストーリーで共有
- **[統合]**: 複数ストーリーにまたがる
- **[ドキュメント]**: ドキュメント専用
- **[デプロイ]**: デプロイメント専用

## 進捗追跡

- **完了したタスク**: `[x]` でマーク
- **進行中のタスク**: タスクIDの横にメモを追加
- **ブロックされたタスク**: ブロッカーを文書化
- **スキップしたタスク**: 理由と共に文書化

## 注記

- 各タスクは1時間から1日で完了可能であるべき
- より大きなタスクはより小さなサブタスクに分割
- ファイルパスは正確で、プロジェクト構造と一致させる
- テストタスクは仕様で要求された場合にのみ含める
- 各ストーリーは独立してテスト・デプロイ可能
