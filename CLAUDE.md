# CLAUDE.md

このファイルは、Claude Code (claude.ai/code) がこのリポジトリでコードを扱う際のガイダンスを提供します。

## 開発指針

### 🎯 プロジェクトの価値を実現

**最重要**: `claude-worktree`はGit worktree管理を効率化するインタラクティブCLIツールです：

1. **インタラクティブな操作**: カーソルベースでの直感的なブランチ選択
2. **自動化されたワークフロー**: worktreeの作成・管理・クリーンアップを自動化
3. **Claude Code統合**: Claude Code開発ワークフローに最適化
4. **ユニバーサル対応**: NPMパッケージとして任意のプロジェクトで利用可能

### 🛠️ 技術実装指針

- **設計・実装は複雑にせずに、シンプルさの極限を追求してください**
- **ただし、ユーザビリティと開発者体験の品質は決して妥協しない**
- 実装はシンプルに、開発者体験は最高品質に
- CLI操作の直感性と効率性を技術的複雑さより優先
- Git worktree管理の効率性と安全性のバランスを重視

### 📝 設計ガイドライン

- 設計に関するドキュメントには、ソースコードを書かないこと

## 開発品質

### 完了条件

- エラーが発生している状態で完了としないこと。必ずエラーが解消された時点で完了とする。

## プロジェクト情報

### ビルドコマンド

```bash
npm run build    # TypeScriptコンパイル
npm run dev      # ウォッチモードでのコンパイル
npm start        # ビルド済みバイナリの実行
```

### テストコマンド

```bash
npm run type-check  # TypeScript型チェック
npm run lint        # ESLint実行
```

### 主要な依存関係

- **TypeScript 5.7.2**: 型安全な開発
- **Node.js CLI**: インタラクティブCLIツール
- **@inquirer/prompts**: ユーザー入力処理
- **chalk**: コンソール出力の色付け
- **execa**: Git コマンドの実行

### アーキテクチャ

- **言語**: TypeScript
- **実行環境**: Node.js >= 18.0.0
- **パッケージ管理**: NPM (グローバルインストール対応)
- **Git統合**: Git worktree コマンドとの連携

## 開発ワークフロー

### 基本ルール

- 作業（タスク）を完了したら、変更点をコミットログに追加して、コミット＆プッシュを必ず行う
- 作業（タスク）は、最大限の並列化をして進める
- 作業（タスク）は、最大限の細分化をしてToDoに登録する
- 作業（タスク）の開始前には、必ずTodoWriteでToDoを登録した後に作業を開始する
- 作業（タスク）の完了後は、作業内容をプッシュして、必ずPRを出す。
- 作業（タスク）を出す前には、必ずmainの最新版をマージする。
- 作業（タスク）は、忖度なしで進める
- 作業（タスク）のPRはmainブランチに対して行う

## コミュニケーションガイドライン

- 回答は必ず日本語

## 外部連携

### GitHub操作について
- GitHub操作は**GitHub CLI (`gh`)コマンド**を直接Bashツールで実行してください
- 例: `gh pr create`, `gh issue create`, `gh repo config apply`など

### 利用可能なMCPツール
- `context7` MCP を使用して、最新のNode.js、TypeScript、およびその他のライブラリを確認してください。
- `google-search`MCPウェブ検索を使用して、最新の解決策を検索できます。
- `model-hub`MCPを使用して、最新のモデルを取得することができます。

## ドキュメント管理

- ドキュメントはルートディレクトリに配置してはいけない。必ずdocs/配下に配置する

## コードクオリティガイドライン

- マークダウンファイルはmarkdownlintでエラー及び警告がない状態にする
- コミットログはcommitlintに対応する

## 開発ガイドライン

- 既存のファイルのメンテナンスを無視して、新規ファイルばかり作成するのは禁止。既存ファイルを改修することを優先する。

## ドキュメント作成ガイドライン

- README.mdには設計などは書いてはいけない。プロジェクトの説明やディレクトリ構成などの説明のみに徹底する。設計などは、適切なファイルへのリンクを書く。

## CLI開発メモリ

- インタラクティブCLI操作の品質が最重要
- Git worktree操作の安全性を常に確保すること